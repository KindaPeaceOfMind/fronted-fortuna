(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["arts"],{"082c":function(e,t,n){},"499b":function(e,t,n){"use strict";n.r(t);var a=n("7a23"),c=Object(a["K"])("data-v-67f5b7c4");Object(a["w"])("data-v-67f5b7c4");var i={class:"kr-body kr-body-margin-top kr-body-margin-bottom"},r=Object(a["i"])("Галерея"),s={class:"v-img"};Object(a["t"])();var o,u,b,d=c((function(e,t,n,o,u,b){var d=Object(a["B"])("attachment-image-component"),l=Object(a["B"])("no-image-component"),f=Object(a["B"])("router-link"),O=Object(a["B"])("card-articles-component");return Object(a["s"])(),Object(a["f"])("div",i,[Object(a["j"])(O,{class:"v-card-articles","options-base":{limit:8,category_id:2}},{title:c((function(){return[r]})),article:c((function(t){return[Object(a["j"])(f,{class:"v-single-block",to:"/news/"+t.article.id+"_"+e.cyrillicToTranslit().transform(t.article.title,"_").toLowerCase()},{default:c((function(){return[Object(a["j"])("div",s,[t.article.attachments[0]?(Object(a["s"])(),Object(a["f"])(d,{key:0,attachment:t.article.attachments[0]},null,8,["attachment"])):(Object(a["s"])(),Object(a["f"])(l,{key:1}))])]})),_:2},1032,["to"])]})),_:1})])})),l=(n("99af"),n("d4ec")),f=n("bee2"),O=n("257e"),h=n("262e"),j=n("2caf"),v=n("ade3"),p=n("ce1f"),m=n("10c4"),g=n("cdf9"),k=n("108b"),w=n.n(k),y=n("abeb"),P=n("78f8"),B=p["a"],S=(o=B({components:{NoImageComponent:y["a"],AttachmentImageComponent:m["a"],CardArticlesComponent:P["a"]},props:{}}),o((b=function(e){Object(h["a"])(n,e);var t=Object(j["a"])(n);function n(){var e;Object(l["a"])(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return e=t.call.apply(t,[this].concat(c)),Object(v["a"])(Object(O["a"])(e),"cyrillicToTranslit",w.a),e}return Object(f["a"])(n,[{key:"mounted",value:function(){document.title="Галерея – ТСЖ «Фортуна»"}},{key:"getStringHumanDate",value:function(e){return g["a"].getStringHumanDateTimeFromString(e)}}]),n}(p["b"]),u=b))||u);n("fed3");S.render=d,S.__scopeId="data-v-67f5b7c4";t["default"]=S},"5ace":function(e,t,n){},6850:function(e,t,n){"use strict";n("082c")},"78f8":function(e,t,n){"use strict";var a=n("7a23"),c=Object(a["K"])("data-v-2b36f742");Object(a["w"])("data-v-2b36f742");var i={class:"vc-card-articles"},r={class:"v-main-title"},s={class:"v-articles",ref:"articles_block"},o={key:0};Object(a["t"])();var u,b,d,l=c((function(e,t,n,c,u,b){var d=Object(a["B"])("icon-spinner-component");return Object(a["s"])(),Object(a["f"])("div",i,[Object(a["j"])("div",r,[Object(a["A"])(e.$slots,"title")]),Object(a["j"])("div",s,[(Object(a["s"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(e.articles,(function(t){return Object(a["s"])(),Object(a["f"])("div",{class:"v-single-block",key:t.id},[Object(a["A"])(e.$slots,"article",{article:t})])})),128))],512),e.isLoadingData?(Object(a["s"])(),Object(a["f"])("div",o,[Object(a["j"])(d,{class:"v-icon-loader"})])):Object(a["g"])("",!0)])})),f=(n("99af"),n("b85c")),O=(n("96cf"),n("1da1")),h=n("d4ec"),j=n("bee2"),v=n("257e"),p=n("262e"),m=n("2caf"),g=n("ade3"),k=n("ce1f"),w=n("0e1f"),y=n("17e9"),P=k["a"],B=(u=P({components:{IconSpinnerComponent:y["a"]},props:{optionsBase:Object}}),u((d=function(e){Object(p["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;Object(h["a"])(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return e=t.call.apply(t,[this].concat(c)),Object(g["a"])(Object(v["a"])(e),"countPages",0),Object(g["a"])(Object(v["a"])(e),"currentPage",0),Object(g["a"])(Object(v["a"])(e),"isLoadingData",!1),Object(g["a"])(Object(v["a"])(e),"articles",[]),e}return Object(j["a"])(n,[{key:"beforeMount",value:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t,n,a,c,i,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=Object.assign({},this.optionsBase),e.next=3,w["a"].getArticles(t);case 3:n=e.sent,this.countPages=Math.ceil(n.meta.count/n.meta.limit),this.currentPage=n.meta.page,a=Object(f["a"])(n.items);try{for(a.s();!(c=a.n()).done;)i=c.value,this.articles.push(i)}catch(s){a.e(s)}finally{a.f()}return e.next=10,this.$nextTick((function(){r.currentPage<r.countPages&&(window.addEventListener("scroll",r.checkUpdatesBasedOnScreenPosition),window.addEventListener("resize",r.checkUpdatesBasedOnScreenPosition),window.addEventListener("orientationchange",r.checkUpdatesBasedOnScreenPosition),r.checkUpdatesBasedOnScreenPosition())}));case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"beforeUnmount",value:function(){window.removeEventListener("scroll",this.checkUpdatesBasedOnScreenPosition),window.removeEventListener("resize",this.checkUpdatesBasedOnScreenPosition),window.removeEventListener("orientationchange",this.checkUpdatesBasedOnScreenPosition)}},{key:"checkUpdatesBasedOnScreenPosition",value:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t,n,a,c,i,r,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isLoadingData){e.next=2;break}return e.abrupt("return");case 2:if(t=this.$refs.articles_block.getBoundingClientRect(),!(t.top+this.$refs.articles_block.offsetHeight<window.innerHeight)){e.next=22;break}return this.currentPage++,n=Object.assign({},this.optionsBase),n.page=this.currentPage,this.isLoadingData=!0,e.next=10,w["a"].getArticles(n);case 10:a=e.sent,c=Object(f["a"])(a.items);try{for(c.s();!(i=c.n()).done;)r=i.value,this.articles.push(r)}catch(o){c.e(o)}finally{c.f()}if(this.isLoadingData=!1,!(this.currentPage>=this.countPages)){e.next=20;break}window.removeEventListener("scroll",this.checkUpdatesBasedOnScreenPosition),window.removeEventListener("resize",this.checkUpdatesBasedOnScreenPosition),window.removeEventListener("orientationchange",this.checkUpdatesBasedOnScreenPosition),e.next=22;break;case 20:return e.next=22,this.$nextTick((function(){s.checkUpdatesBasedOnScreenPosition()}));case 22:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(k["b"]),b=d))||b);n("6850");B.render=l,B.__scopeId="data-v-2b36f742";t["a"]=B},fed3:function(e,t,n){"use strict";n("5ace")}}]);